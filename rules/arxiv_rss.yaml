# ArXiv RSS 爬取规则配置
# 用于爬取 AI 领域的 agent 相关论文

name: "arxiv"
url: "https://rss.arxiv.org/rss/cs.AI"  # 计算机科学-人工智能分类的 RSS
crawl_type: "rss"
update_frequency: 1440  # 更新频率（分钟），优先级高于全局配置, 1440分钟=24小时
# 如果不指定，则使用全局配置 config/global_config.yaml 中的 default_update_frequency
storage_path: "arxiv"
enabled: true

# 自定义配置
custom_config:
  # RSS 爬虫的额外配置
  max_items: 100  # 最大条目数（可选，用于限制）
  
  # 定时爬取时间（可选），格式：HH:MM（24小时制），例如 "08:00" 表示每天早上8点
  # 如果设置的时间不在24小时内，或未设置，则立即执行
  crawl_time: "08:00"
  include_abstract: true  # 包含摘要
  
  # 过滤器链：用于整体筛选需要保留的论文（替代原来的 keywords）
  filters:
    # 时间过滤器：爬取昨天的所有条目（ArXiv 时间只到日期，时分秒为0）
    - type: "time"
      yesterday: true
      date_only: true
    # 关键词过滤器：标题或摘要中包含指定关键词
    - type: "or"
      filters:
        - type: "title"
          keywords:
            - "agent"
            - "diffusion"
            - "Image Compression"
            - "Image Generation"
            - "Image Synthesis"
        - type: "summary"
          keywords:
            - "agent"
            - "diffusion"
            - "Image Compression"
            - "Image Generation"
            - "Image Synthesis"
  
  # 领域配置（可以扩展支持多个分类）
  categories:
    - "cs.AI"  # 人工智能
    # 可以添加其他分类，如：
    # - "cs.LG"  # 机器学习
    # - "cs.CV"  # 计算机视觉
  
  # 分类映射（基于过滤器的分类规则，用于得到不同的 category）
  category_mapping:
    agent:
      folder: "agent"  # 存储到 agent 子目录
      filter:
        type: "or"
        filters:
          - type: "title"
            keywords:
              - "agent"
          - type: "summary"
            keywords:
              - "agent"
    diffusion:
      folder: "diffusion_models"
      filter:
        type: "or"
        filters:
          - type: "title"
            keywords:
              - "diffusion"
              - "image synthesis"
              - "video generation"
          - type: "summary"
            keywords:
              - "diffusion"
              - "image synthesis"
              - "video generation"
    vton:
      folder: "vton"
      filter:
        type: "or"
        filters:
          - type: "title"
            keywords:
              - "virtual try-on"
              - "VTON"
          - type: "summary"
            keywords:
              - "virtual try-on"
              - "VTON"
    image_compression:
      folder: "image_compression"
      filter:
        type: "or"
        filters:
          - type: "title"
            keywords:
              - "image compression"
          - type: "summary"
            keywords:
              - "image compression"
  
  # Org格式类型：detailed（详细）、compact（紧凑）、card（卡片）、minimal（极简）
  org_format: "detailed"
  
  # Exporter配置
  exporter:
    # Exporter类名：BaseOrgExporter, ArXivOrgExporter
    class: "ArXivOrgExporter"
    
    # 标题模板，支持变量：{title}, {link}, {published_time}, {crawl_time}, {index}, {arxiv_id}, {authors}, {first_author}, {categories}, {output_path}, {output_file}, {output_dir}, {output_path_rel}
    # 示例：* [[{link}][{title}]] 或 * {title} [{published_time}] 或 * [[{output_path_rel}][{title}]]
    title_template: "* [[{link}][{first_author} --- {title}]]"
    
    # 路径配置
    path:
      # 路径类型：relative（相对路径）或 absolute（绝对路径）
      type: "relative"
      # 基础路径（相对路径的基准或绝对路径的根）
      base_path: "data"
      # 路径模板，支持变量：{site_name}, {date}, {base_path}
      # 默认：data/{site_name}/{date}.org
      template: "data/{site_name}/{date}.org"
    
    # 索引文件配置
    index:
      # 是否启用索引文件
      enabled: true
      # 索引文件路径（相对于base_path），如果为None则使用默认路径
      # 默认：data/{site_name}/index.org
      path: null
      
      # 表头列表（使用变量格式，定义表格的列）
      table_headers:
        - "{link}"
        - "{title}"
        - "{first_author}"
      
      # 单元格模板（定义每个变量对应的内容模板）
      # key为变量名（不含{}），支持变量：{title}, {link}, {first_author}, {authors}, {published_time}, {arxiv_id}, {categories}, {output_path}, {output_file}, {output_dir}, {output_path_rel}
      cell_templates:
        link: "[[{link}][查看]]"
        title: "[[{output_path_rel}][{title}]]"
        first_author: "{first_author}"
      
      # 表头标签映射（将变量名转换为中文显示名称，可选）
      # key为变量名（不含{}），value为在索引文件中显示的中文名称
      header_labels:
        title: "标题"
        first_author: "第一作者"
        link: "链接"

